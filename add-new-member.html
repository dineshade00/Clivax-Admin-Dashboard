<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8" />
    <title>Add New Member | Clivax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="Codebucks" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">


    <!-- dark layout js -->
    <script src="assets/js/pages/layout.js"></script>

    <!-- Bootstrap Css -->
    <link href="assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <!-- simplebar css -->
    <link href="assets/libs/simplebar/simplebar.min.css" rel="stylesheet">
    <!-- App Css-->
    <link href="assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="assets/css/add-new-member.css">

     <style>
        .card {
            margin-bottom: 20px;
            border-radius: 0.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }

        .modal-header .text-center {
            width: 100%;
        }

        .modal-header svg {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>

    <!-- Begin page -->
    <div id="layout-wrapper">


        <!-- Start topbar -->
        <header id="page-topbar">
            <div class="navbar-header">

                <!-- Logo -->

                <!-- Start Navbar-Brand -->
                <div class="navbar-logo-box">
                    <a href="index.html" class="logo logo-dark">
                        <span class="logo-sm">
                            <img src="assets/images/logo-sm.png" alt="logo-sm-dark" height="20">
                        </span>
                        <span class="logo-lg">
                            <img src="assets/images/logo-dark.png" alt="logo-dark" height="18">
                        </span>
                    </a>

                    <a href="index.html" class="logo logo-light">
                        <span class="logo-sm">
                            <img src="assets/images/logo-sm.png" alt="logo-sm-light" height="20">
                        </span>
                        <span class="logo-lg">
                            <img src="assets/images/logo-light.png" alt="logo-light" height="18">
                        </span>
                    </a>

                    <button type="button" class="btn btn-sm top-icon sidebar-btn" id="sidebar-btn">
                        <i class="mdi mdi-menu-open align-middle fs-19"></i>
                    </button>
                </div>
                <!-- End navbar brand -->

                                  <!-- Start menu -->
                <div class="d-flex justify-content-between menu-sm px-3 ms-auto">
                    <div class="d-flex align-items-center gap-2">
                        <div class="dropdown d-none d-lg-block">
                            <button type="button" class="btn btn-primary btn-sm fs-14 d-inline"
                                data-bs-toggle="dropdown">
                                Gym Modules
                                <i class="mdi mdi-chevron-down align-middle"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-start dropdown-menu-animated">

                                <!-- Inventory Manager -->
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-icon"><i class="fas fa-dumbbell"></i></div>
                                    <span class="dropdown-content">Equipments</span>
                                    <div class="dropdown-addon"><span class="badge badge-warning rounded-pill">20</span>
                                    </div>
                                </a>

                                <!-- Invoice -->
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-icon"><i class="fas fa-file-invoice"></i></div>
                                    <span class="dropdown-content">Membership Invoice</span>
                                </a>

                                <!-- Divider -->
                                <div class="dropdown-divider"></div>

                                <!-- My Account -->
                                <a href="apps-contact.html" class="dropdown-item">
                                    <div class="dropdown-icon"><i class="fas fa-user-circle"></i></div>
                                    <span class="dropdown-content">My Profile</span>
                                </a>
                            </div>
                        </div>

                        <div class="dropdown d-none d-lg-block">
                            <button type="button" class="btn btn-primary btn-sm fs-14" data-bs-toggle="dropdown"
                                aria-haspopup="false" aria-expanded="false">
                                Features
                                <i class="mdi mdi-chevron-down align-middle"></i>
                            </button>
                            <div
                                class="dropdown-menu dropdown-menu-start dropdown-menu-lg-widest dropdown-menu-widest dropdown-menu-animated bg-primary-subtle overflow-hidden">
                                <div class="dropdown-row justify-content-center">

                                    <!-- Original Image (Unchanged) -->
                                    <div class="p-2 menu-image">
                                        <img src="assets/images/mega-menu.png" alt="mega-menu image" class="img-fluid"
                                            style="height: 200px;">
                                    </div>

                                    <!-- Gym Welcome Section -->
                                    <div class="dropdown-col">
                                        <h2 class="">Welcome to FitPro Gym!</h2>
                                        <p class="text-muted mb-0">
                                            Track members, manage plans, monitor trainers, and streamline gym operations
                                            with our digital gym
                                            dashboard.
                                        </p>
                                        <div class="mt-3">
                                            <a href="auth-login.html" class="btn btn-dark btn-wider">Admin Login</a>
                                        </div>
                                    </div>

                                    <!-- Features Section -->
                                    <div class="dropdown-col border-start border-primary border-opacity-50">
                                        <h4 class="dropdown-header">Gym Features</h4>
                                        <div class="grid-nav grid-nav-action">
                                            <div class="grid-nav-row">
                                                <a href="index.html" class="grid-nav-item">
                                                    <div class="grid-nav-icon"><i class="fas fa-chart-line"></i></div>
                                                    <span class="grid-nav-content">Dashboard</span>
                                                </a>
                                                <a href="show-all-member.html" class="grid-nav-item">
                                                    <div class="grid-nav-icon"><i class="fas fa-user-friends"></i></div>
                                                    <span class="grid-nav-content">Members</span>
                                                </a>
                                                <a href="renewals.html" class="grid-nav-item">
                                                    <div class="grid-nav-icon"><i class="fas fa-redo-alt"></i></div>
                                                    <span class="grid-nav-content">Renewals</span>
                                                </a>
                                            </div>
                                            <div class="grid-nav-row">
                                                <a href="#" class="grid-nav-item">
                                                    <div class="grid-nav-icon"><i class="fas fa-dumbbell"></i></div>
                                                    <span class="grid-nav-content">Trainers</span>
                                                </a>
                                                <a href="view-plan.html" class="grid-nav-item">
                                                    <div class="grid-nav-icon"><i class="fas fa-id-card-alt"></i></div>
                                                    <span class="grid-nav-content">Membership Plans</span>
                                                </a>
                                                <a href="revenue-report.html" class="grid-nav-item">
                                                    <div class="grid-nav-icon"><i class="fas fa-file-alt"></i></div>
                                                    <span class="grid-nav-content">Reports</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tools Section -->
                                    <div class="dropdown-col border-start border-primary border-opacity-50">
                                        <h4 class="dropdown-header">Quick Tools</h4>
                                        <a href="attendence.html" class="dropdown-item">
                                            <i
                                                class="mdi mdi-account-check-outline align-middle dropdown-bullet me-2"></i>
                                            <span class="dropdown-content">Attendance</span>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <i class="mdi mdi-food-apple-outline align-middle dropdown-bullet me-2"></i>
                                            <span class="dropdown-content">Diet Plans</span>
                                        </a>
                                        <a href="manage-staff.html" class="dropdown-item">
                                            <i class="mdi mdi-account-tie align-middle dropdown-bullet me-2"></i>
                                            <span class="dropdown-content">Staff Management</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                   <div class="d-flex align-items-center gap-2">
            
              <!-- Start Notification -->
              <div class="dropdown d-inline-block">
                <button
                  type="button"
                  class="btn btn-sm top-icon"
                  id="page-header-notifications-dropdown"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <i class="fas fa-bell align-middle"></i>
                  <span class="btn-marker"
                    ><i class="marker marker-dot text-danger"></i
                  ></span>
                </button>
                <div
                  class="dropdown-menu dropdown-menu-lg dropdown-menu-md dropdown-menu-end p-0"
                  aria-labelledby="page-header-notifications-dropdown"
                >
                  <div class="p-3 bg-info">
                    <div class="row align-items-center">
                      <div class="col">
                        <h6 class="text-white m-0">
                          <i class="far fa-bell me-2"></i> Notifications
                        </h6>
                      </div>
                      <div class="col-auto">
                        <a href="#!" class="badge bg-info-subtle text-info">
                          6+</a
                        >
                      </div>
                    </div>
                  </div>
                  <div data-simplebar style="max-height: 230px">
                    <a href="#" class="text-reset notification-item">
                      <div class="d-flex">
                        <div class="avatar avatar-xs avatar-label-success me-3">
                          <span class="rounded fs-16">
                            <i class="mdi mdi-account-plus-outline"></i>
                          </span>
                        </div>
                        <div class="flex-1">
                          <h6 class="mb-1">New member registered</h6>
                          <div class="fs-12 text-muted">
                            <p class="mb-0">
                              <i class="mdi mdi-clock-outline"></i> 5 min ago
                            </p>
                          </div>
                        </div>
                        <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                      </div>
                    </a>

                    <a href="#" class="text-reset notification-item">
                      <div class="d-flex">
                        <div class="avatar avatar-xs avatar-label-warning me-3">
                          <span class="rounded fs-16">
                            <i class="mdi mdi-alarm"></i>
                          </span>
                        </div>
                        <div class="flex-1">
                          <h6 class="mb-1">Session missed by trainer</h6>
                          <div class="fs-12 text-muted">
                            <p class="mb-0">
                              <i class="mdi mdi-clock-outline"></i> 30 min ago
                            </p>
                          </div>
                        </div>
                        <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                      </div>
                    </a>

                    <a href="#" class="text-reset notification-item">
                      <div class="d-flex">
                        <div class="avatar avatar-xs avatar-label-danger me-3">
                          <span class="rounded fs-16">
                            <i class="mdi mdi-cash-clock"></i>
                          </span>
                        </div>
                        <div class="flex-1">
                          <h6 class="mb-1">Payment due for member ID #1023</h6>
                          <div class="fs-12 text-muted">
                            <p class="mb-0">
                              <i class="mdi mdi-clock-outline"></i> 2 hours ago
                            </p>
                          </div>
                        </div>
                        <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                      </div>
                    </a>

                    <a href="#" class="text-reset notification-item">
                      <div class="d-flex">
                        <div class="avatar avatar-xs avatar-label-info me-3">
                          <span class="rounded fs-16">
                            <i class="mdi mdi-calendar-check-outline"></i>
                          </span>
                        </div>
                        <div class="flex-1">
                          <h6 class="mb-1">
                            Today’s session starts in 30 minutes
                          </h6>
                          <div class="fs-12 text-muted">
                            <p class="mb-0">
                              <i class="mdi mdi-clock-outline"></i> 3 hours ago
                            </p>
                          </div>
                        </div>
                        <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                      </div>
                    </a>

                    <a href="#" class="text-reset notification-item">
                      <div class="d-flex">
                        <div
                          class="avatar avatar-xs avatar-label-secondary me-3"
                        >
                          <span class="rounded fs-16">
                            <i class="mdi mdi-update"></i>
                          </span>
                        </div>
                        <div class="flex-1">
                          <h6 class="mb-1">Member plan updated (ID #1008)</h6>
                          <div class="fs-12 text-muted">
                            <p class="mb-0">
                              <i class="mdi mdi-clock-outline"></i> Yesterday
                            </p>
                          </div>
                        </div>
                        <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                      </div>
                    </a>

                    <a href="#" class="text-reset notification-item">
                      <div class="d-flex">
                        <div class="avatar avatar-xs avatar-label-primary me-3">
                          <span class="rounded fs-16">
                            <i class="mdi mdi-lock-reset"></i>
                          </span>
                        </div>
                        <div class="flex-1">
                          <h6 class="mb-1">Admin password changed</h6>
                          <div class="fs-12 text-muted">
                            <p class="mb-0">
                              <i class="mdi mdi-clock-outline"></i> 2 days ago
                            </p>
                          </div>
                        </div>
                        <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                      </div>
                    </a>
                  </div>
                  <div class="p-2 border-top">
                    <div class="d-grid">
                      <a
                        class="btn btn-sm btn-link font-size-14 text-center"
                        href="javascript:void(0)"
                      >
                        <i class="mdi mdi-arrow-right-circle me-1"></i> View
                        More..
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <!-- End Notification -->

              <!-- Start Profile -->
              <div class="dropdown d-inline-block">
                <button
                  type="button"
                  class="btn btn-sm top-icon p-0"
                  id="page-header-user-dropdown"
                  data-bs-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <img
                    class="rounded avatar-2xs p-0"
                    src="assets/images/users/avatar-6.png"
                    alt="Header Avatar"
                  />
                </button>
                <div
                  class="dropdown-menu dropdown-menu-wide dropdown-menu-end dropdown-menu-animated overflow-hidden py-0"
                >
                  <div class="card border-0">
                    <div class="card-header bg-primary rounded-0">
                      <div class="rich-list-item w-100 p-0">
                        <div class="rich-list-prepend">
                          <div class="avatar avatar-label-light avatar-circle">
                            <div class="avatar-display">
                              <i class="fas fa-user-circle"></i>
                            </div>
                          </div>
                        </div>
                        <div class="rich-list-content">
                          <h3 class="rich-list-title text-white">Admin</h3>
                          <span class="rich-list-subtitle text-white"
                            >info@kavyainfoweb.com</span
                          >
                        </div>
                        <div class="rich-list-append">
                          <span class="badge badge-label-light fs-6">6+</span>
                        </div>
                      </div>
                    </div>

                    <div class="card-body p-0">
                      <div
                        class="grid-nav grid-nav-flush grid-nav-action grid-nav-no-rounded"
                      >
                        <div class="grid-nav-row">
                          <a href="apps-contact.html" class="grid-nav-item">
                            <div class="grid-nav-icon">
                              <i class="fas fa-user-edit"></i>
                            </div>
                            <span class="grid-nav-content">My Profile</span>
                          </a>
                          <a href="#" class="grid-nav-item">
                            <div class="grid-nav-icon">
                              <i class="fas fa-dumbbell"></i>
                            </div>
                            <span class="grid-nav-content">Trainer Profile</span>
                          </a>
                          <a href="#" class="grid-nav-item">
                            <div class="grid-nav-icon">
                              <i class="fas fa-running"></i>
                            </div>
                            <span class="grid-nav-content">Workout Logs</span>
                          </a>
                        </div>

                        <div class="grid-nav-row">
                          <a href="#" class="grid-nav-item">
                            <div class="grid-nav-icon">
                              <i class="far fa-calendar-check"></i>
                            </div>
                            <span class="grid-nav-content"
                              >Session Calendar</span
                            >
                          </a>
                          <a href="#" class="grid-nav-item">
                            <div class="grid-nav-icon">
                              <i class="fas fa-apple-alt"></i>
                            </div>
                            <span class="grid-nav-content">Diet Notes</span>
                          </a>
                          <a href="#" class="grid-nav-item">
                            <div class="grid-nav-icon">
                              <i class="far fa-bell"></i>
                            </div>
                            <span class="grid-nav-content">Notifications</span>
                          </a>
                        </div>
                      </div>
                    </div>

                    <div class="card-footer card-footer-bordered rounded-0">
                      <a href="auth-login.html" class="btn btn-label-danger"
                        >Sign out</a
                      >
                    </div>
                  </div>
                </div>
              </div>
              <!-- End Profile -->
            </div>
                </div>
                <!-- End menu -->
            </div>
        </header>
        <!-- End topbar -->


        
        <!-- ========== Left Sidebar Start ========== -->
        <div class="sidebar-left">

            <div data-simplebar class="h-100">

                <!--- Sidebar-menu -->
                <div id="sidebar-menu">
                    <!-- Left Menu Start -->
                    <ul class="left-menu list-unstyled" id="side-menu">
                        <li>
                            <a href="index.html" class="">
                                <i class="fas fa-desktop"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>

                        <!-- <li class="menu-title">Elements</li> -->

                        <li>
                            <a href="javascript: void(0);" class="has-arrow ">
                                <i class="fa fa-users"></i>
                                <span>Member Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="add-new-member.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>Add New Member</a>
                                </li>
                                <li><a href="show-all-member.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>All Members</a>
                                </li>
                            </ul>
                        </li>


                        <li>
                            <a href="javascript: void(0);" class="has-arrow ">
                                <i class="fa fa-id-card-alt"></i>
                                <span>Membership Plans</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li>
                                    <a href="add-new-plan.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>
                                        Add New
                                    </a>
                                </li>
                                <li>
                                    <a href="view-plan.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>
                                        View Plan
                                    </a>
                                </li>
                                <li>
                                    <a href="manage-plan.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>
                                        Manage Plan
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i class="fa fa-calendar-check"></i>
                                <span>Session Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li>
                                    <a href="live-session.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>Live Session
                                    </a>
                                </li>
                                <li>
                                    <a href="offline-session.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>Offline Session
                                    </a>
                                </li>
                            </ul>
                        </li>



                        <li>
                            <a href="javascript: void(0);" class="has-arrow ">
                                <i class="fa fa-user-tie"></i>
                                <span>Staff Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                
                                <li><a href="add-new-staff.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i> Add New</a>
                                </li>
                                <li><a href="manage-staff.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i> Manage Staff</a>
                                </li>
                                <li><a href="show-all-staff.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i> All Staff Members</a>
                                </li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow ">
                                <i class="fa fa-wallet"></i>
                                <span>Account Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">

                                <!-- Show All -->
                                <li>
                                    <a href="add-new-account.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i>Add New Account
                                    </a>
                                </li>

                                <!-- Show All -->
                                <li>
                                    <a href="show-all-account.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i> All Accounts
                                    </a>
                                </li>

                                <!-- Member Invoices with dropdown -->
                                <li>
                                    <a href="create-invoice.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i> Create Invoices
                                    </a>
                                </li>

                                <!-- Payment History -->
                                <li>
                                    <a href="pyments.html">
                                        <i class="mdi mdi-checkbox-blank-circle align-middle"></i> Payment History
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li>
                            <a href="renewals.html">
                                <i class="fa fa-sync-alt"></i>
                                <span>Renewals</span>
                            </a>
                        </li>

                        <li>
                            <a href="attendence.html">
                                <i class="fa fa-calendar-check"></i>
                                <span>Attendance</span>
                            </a>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                  <i class="fa fa-chart-pie"></i>
                                  <span>Reports</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">

                                <!-- GYM-RELATED REPORTS -->
                                <li>
                                    <a href="membership-report.html">
                                        <i class="mdi mdi-account-group-outline align-middle"></i> Membership Report
                                    </a>
                                </li>
                                <li>
                                    <a href="revenue-report.html">
                                        <i class="mdi mdi-currency-inr align-middle"></i> Revenue Report
                                    </a>
                                </li>
                                <li>
                                    <a href="staff-report.html">
                                        <i class="mdi mdi-account-tie-outline align-middle"></i> Staff Report
                                    </a>
                                </li>

                                <!-- Existing Chart Pages -->

                            </ul>
                        </li>

                        <li>
                            <a href="settings.html">
                                <i class="fas fa-cog"></i>
                                <span>Settings</span>
                            </a>
                        </li>
                        <li>
                            <a href="auth-login.html">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Logout</span>
                            </a>
                        </li>


                    </ul>
                </div>
                <!-- Sidebar -->
            </div>
        </div>
        <!-- Left Sidebar End -->

        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0">Add New </h4>

                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Clivax</a></li>
                                        <li class="breadcrumb-item active">Add New Member</li>
                                    </ol>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- end page title -->

            <div class="card">
  <div class="card-header">
    <h4 class="card-title">Add New Member</h4>
  </div>
  <div class="card-body">
    <form id="addMemberForm" action="#" class="custom-validation">
      <div class="row">
        <div class="col-md-4 mb-3">
          <label for="firstName" class="form-label">First Name</label>
          <div>
            <input
              type="text"
              id="firstName"
              class="form-control"
              required
              data-parsley-minlength="2"
              placeholder="Enter First Name"
            />
            <div class="invalid-feedback">
              Please enter a first name (at least 2 characters).
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <label for="lastName" class="form-label">Last Name</label>
          <div>
            <input
              type="text"
              id="lastName"
              class="form-control"
              required
              data-parsley-minlength="2"
              placeholder="Enter Last Name"
            />
            <div class="invalid-feedback">
              Please enter a last name (at least 2 characters).
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <label for="emailAddress" class="form-label">Email Address</label>
          <div>
            <input
              type="email"
              id="emailAddress"
              class="form-control"
              required
              data-parsley-type="email"
              placeholder="Enter Email Address"
            />
            <div class="invalid-feedback">
              Please enter a valid email address.
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <label for="contact" class="form-label">Contact</label>
          <div>
            <input
              type="tel"
              id="contact"
              class="form-control"
              required
              pattern="[0-9]{10}"
              placeholder="Enter Contact No. (10 digits)"
              title="Please enter a 10-digit number"
              oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);"
            />
            <div class="invalid-feedback">
              Please enter a 10-digit contact number.
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <label for="gender" class="form-label">Gender</label>
          <div>
            <select id="gender" class="form-select" name="gender" required>
              <option value="">Select your gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
            <div class="invalid-feedback">
              Please select your gender.
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <label for="dob" class="form-label">Date of Birth</label>
          <div>
            <input
              type="date"
              id="dob"
              name="dob"
              class="form-control"
              required
            />
            <div class="invalid-feedback">
              Please select your date of birth.
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <label for="address" class="form-label">Address</label>
          <div>
            <input
              type="text"
              id="address"
              name="address"
              class="form-control"
              required
              placeholder="Enter your address"
              maxlength="150"
            />
            <div class="invalid-feedback">
              Please enter your address.
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <label for="city" class="form-label">City</label>
          <div>
            <input
              type="text"
              id="city"
              name="city"
              class="form-control"
              required
              placeholder="Enter City Name"
            />
            <div class="invalid-feedback">
              Please enter your city.
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <label for="pincode" class="form-label">Pincode</label>
          <div>
            <input
              type="text"
              id="pincode"
              class="form-control"
              required
              pattern="[0-9]{6}"
              placeholder="Enter Pincode (6 digits)"
              title="Please enter a 6-digit pincode"
              maxlength="6"
            />
            <div class="invalid-feedback">
              Please enter a 6-digit pincode.
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <label for="photo" class="form-label">Photo</label>
          <div>
            <input
              type="file"
              id="photo"
              name="photo"
              class="form-control"
              accept=".jpg, .jpeg, .png"
              required
            />
            <div class="invalid-feedback">
              Please upload a photo (only .jpg, .jpeg, .png formats allowed, max 40 KB).
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <label for="membership_type" class="form-label"
            >Membership Type</label
          >
          <div>
            <select
              id="membership_type"
              name="membership_type"
              class="form-select"
              required
            >
              <option value="">Select Membership Type</option>
              <option value="1 month plan">1 month plan - Rs. 500</option>
              <option value="3 month plan">3 month plan - Rs. 1300</option>
              <option value="6 month plan">6 month plan - Rs. 2000</option>
            </select>
            <div class="invalid-feedback">
              Please select a membership type.
            </div>
          </div>
        </div>
      </div>
      <div class="mb-0">
        <div class="text-end">
          <button
            type="button"
            id="proceedToPaymentBtn"
            class="btn btn-primary waves-effect waves-light me-1"
          >
            Proceed to Payment
          </button>
          <button
            type="submit"
            id="addMemberBtn"
            class="btn btn-primary waves-effect waves-light me-1"
            style="display: none;"
          >
            Add New Member
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
                </div>
            </div>
        </div>

<div
  class="modal fade"
  id="successModal"
  tabindex="-1"
  aria-labelledby="successModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div
        class="modal-header d-flex justify-content-center border-0 pb-0"
      >
        <div class="text-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="60"
            height="60"
            fill="#28a745"
            class="bi bi-check-circle"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
            />
            <path
              d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.423 5.514 7.567a.235.235 0 0 0-.02-.022A.5.5 0 0 1 5.5 7h5a.5.5 0 0 1 .47.53z"
            />
          </svg>
        </div>
      </div>
      <div class="modal-body text-center">
        <h5 class="modal-title" id="successModalLabel">Success</h5>
        <p>Member data saved successfully! You can now view it in the members list.</p>
      </div>
      <div
        class="modal-footer d-flex justify-content-center border-0 pt-0"
      >
        <button
          type="button"
          class="btn btn-primary"
          data-bs-dismiss="modal"
        >
          OK
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="errorModal"
  tabindex="-1"
  aria-labelledby="errorModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div
        class="modal-header d-flex justify-content-center border-0 pb-0"
      >
        <div class="text-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="60"
            height="60"
            fill="#dc3545"
            class="bi bi-exclamation-circle"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
            />
            <path
              d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.5.5 0 0 1-1 .094l-.35-3.507z"
            />
          </svg>
        </div>
      </div>
      <div class="modal-body text-center">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <p>Please fill in all required fields correctly.</p>
      </div>
      <div
        class="modal-footer d-flex justify-content-center border-0 pt-0"
      >
        <button
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
        >
          OK
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="paymentModal"
  tabindex="-1"
  aria-labelledby="paymentModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="paymentModalLabel">How would you like to pay?</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body text-center">
        <div class="row row-cols-3 g-3 justify-content-center">
          <div class="col">
            <button
              type="button"
              class="btn btn-outline-primary p-3 w-100 payment-option"
              data-payment-method="visa"
            >
              <img
                src="assets/images/visanew.webp"
                alt="Visa"
                class="img-fluid"
                style="height: 40px;"
              />
            </button>
          </div>
          <div class="col">
            <button
              type="button"
              class="btn btn-outline-primary p-3 w-100 h2 payment-option"
              data-payment-method="mastercard"
            >
              <img
                src="assets/images/Mastercard-logo.webp"
                alt="Mastercard"
                class="img-fluid"
                style="max-height: 40px;"
              />
            </button>
          </div>
          <div class="col">
            <button
              type="button"
              class="btn btn-outline-primary p-3 w-100 payment-option"
              data-payment-method="paytm"
            >
              <img
                src="assets/images/Paytm-Logo.svg"
                alt="paytm"
                class="img-fluid"
                style="max-height: 40px;"
              />
            </button>
          </div>
          <div class="col">
            <button
              type="button"
              class="btn btn-outline-primary p-3 w-100 payment-option"
              data-payment-method="phonepay"
            >
              <img
                src="assets/images/PhonePe_Logo.svg.webp"
                alt="PhonePe"
                class="img-fluid"
                style="height: 40px;"
              />
            </button>
          </div>
          <div class="col">
            <button
              type="button"
              class="btn btn-outline-primary p-3 w-100 payment-option"
              data-payment-method="googlepay"
            >
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Google_Pay_Logo.svg/1280px-Google_Pay_Logo.svg.png"
                alt="Google Pay"
                class="img-fluid"
                style="max-height: 40px;"
              />
            </button>
          </div>
          <div class="col">
            <button
              type="button"
              class="btn btn-outline-primary p-3 w-100 payment-option"
              data-payment-method="upi"
            >
              <img
                src="assets/images/upi1.webp"
                alt="UPI"
                class="img-fluid"
                style="max-height: 40px;"
              />
            </button>
          </div>
          <div class="col-12 mt-3">
            <button
              type="button"
              class="btn btn-success w-100 payment-option"
              data-payment-method="On Cash"
            >
              On Cash
            </button>
          </div>
        </div>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button
          type="button"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>


        <!-- end main content-->

    </div>
    <!-- END layout-wrapper -->

    <footer class="footer">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-sm-6">
                    <script>document.write(new Date().getFullYear())</script> © Clivax.
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end d-none d-sm-block">
                        Crafted with <i class="mdi mdi-heart text-danger"></i> by <a href="http://codebucks.in/"
                            target="_blank" class="text-muted">Codebucks</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <div class="custom-setting bg-primary pe-0 d-flex flex-column rounded-start">
        <button type="button" class="btn btn-wide border-0 text-white fs-20 avatar-sm rounded-end-0"
            id="light-dark-mode">
            <i class="mdi mdi-brightness-7 align-middle"></i>
            <i class="mdi mdi-white-balance-sunny align-middle"></i>
        </button>
       
    </div>


    <!-- Rightbar Sidebar -->
    <div class="offcanvas offcanvas-end" id="offcanvas-rightsidabar">
        <div class="card h-100 rounded-0" data-simplebar="init">
            <div class="card-header bg-light">
                <h6 class="card-title text-uppercase">Activities</h6>
                <div class="card-addon">
                    <button class="btn btn-label-danger" data-bs-dismiss="offcanvas">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div class="">
                    <h3 class="card-title">Company summary</h3>
                    <div class="border rounded p-2">
                        <p class="text-muted mb-2">Server Load</p>
                        <h4 class="fs-16 mb-2">489</h4>
                        <div class="progress progress-sm" style="height:4px;">
                            <div class="progress-bar bg-success" style="width: 49.4%"></div>
                        </div>
                        <p class="text-muted mb-0 mt-1">49.4% <span>Avg</span></p>
                    </div>
                    <div class="border rounded p-2">
                        <p class="text-muted mb-2">Members online</p>
                        <h4 class="fs-16 mb-2">3,450</h4>
                        <div class="progress progress-sm" style="height:4px;">
                            <div class="progress-bar bg-danger" style="width: 34.6%"></div>
                        </div>
                        <p class="text-muted mb-0 mt-1">34.6% <span>Avg</span></p>
                    </div>
                    <div class="border rounded p-2">
                        <p class="text-muted mb-2">Today's revenue</p>
                        <h4 class="fs-16 mb-2">$18,390</h4>
                        <div class="progress progress-sm" style="height:4px;">
                            <div class="progress-bar bg-warning" style="width: 20%"></div>
                        </div>
                        <p class="text-muted mb-0 mt-1">$37,578 <span>Avg</span></p>
                    </div>
                    <div class="border rounded p-2">
                        <p class="text-muted mb-2">Expected profit</p>
                        <h4 class="fs-16 mb-2">$23,461</h4>
                        <div class="progress progress-sm" style="height:4px;">
                            <div class="progress-bar bg-info" style="width: 60%"></div>
                        </div>
                        <p class="text-muted mb-0 mt-1">$23,461 <span>Avg</span></p>
                    </div>
                </div>

                <div class="mt-4">
                    <h3 class="card-title">Latest log</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-primary"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">12 new users registered</p>
                                    <span class="text-muted">Just now</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-success"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">System shutdown <span
                                            class="badge badge-label-success">pending</span></p>
                                    <span class="text-muted">2 mins</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-primary"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">New invoice received</p>
                                    <span class="text-muted">3 mins</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-danger"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">New order received <span
                                            class="badge badge-label-danger">urgent</span></p>
                                    <span class="text-muted">10 mins</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-warning"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">Production server down</p>
                                    <span class="text-muted">1 hrs</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-info"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">System error <a href="#">check</a></p>
                                    <span class="text-muted">2 hrs</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-secondary"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">DB overloaded 80%</p>
                                    <span class="text-muted">5 hrs</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-pin"><i class="marker marker-dot text-success"></i></div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between">
                                    <p class="mb-0">Production server up</p>
                                    <span class="text-muted">6 hrs</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <h3 class="card-title">Upcoming activities</h3>
                    <div class="timeline timeline-timed">
                        <div class="timeline-item">
                            <span class="timeline-time">10:00</span>
                            <div class="timeline-pin"><i class="marker marker-circle text-primary"></i></div>
                            <div class="timeline-content">
                                <div>
                                    <span>Meeting with</span>
                                    <div class="avatar-group ms-2">
                                        <div class="avatar avatar-circle">
                                            <img src="assets/images/users/avatar-1.png" alt="Avatar image"
                                                class="avatar-2xs" />
                                        </div>
                                        <div class="avatar avatar-circle">
                                            <img src="assets/images/users/avatar-2.png" alt="Avatar image"
                                                class="avatar-2xs" />
                                        </div>
                                        <div class="avatar avatar-circle">
                                            <img src="assets/images/users/avatar-3.png" alt="Avatar image"
                                                class="avatar-2xs" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-time">12:45</span>
                            <div class="timeline-pin"><i class="marker marker-circle text-warning"></i></div>
                            <div class="timeline-content">
                                <p class="mb-0">Lorem ipsum dolor sit amit,consectetur eiusmdd tempor incididunt ut
                                    labore et dolore magna elit enim at minim veniam quis nostrud</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-time">14:00</span>
                            <div class="timeline-pin"><i class="marker marker-circle text-danger"></i></div>
                            <div class="timeline-content">
                                <p class="mb-0">Received a new feedback on <a href="#">GoFinance</a> App product.</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-time">15:20</span>
                            <div class="timeline-pin"><i class="marker marker-circle text-success"></i></div>
                            <div class="timeline-content">
                                <p class="mb-0">Lorem ipsum dolor sit amit,consectetur eiusmdd tempor incididunt ut
                                    labore et dolore magna.</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <span class="timeline-time">17:00</span>
                            <div class="timeline-pin"><i class="marker marker-circle text-info"></i></div>
                            <div class="timeline-content">
                                <p class="mb-0">Make Deposit <a href="#">USD 700</a> o ESL.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- end card-->
    </div>

    <!-- JAVASCRIPT -->
    <script src="assets/libs/jquery/jquery.min.js"></script>
    <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/metismenu/metisMenu.min.js"></script>
    <script src="assets/libs/simplebar/simplebar.min.js"></script>
    <script src="assets/libs/node-waves/waves.min.js"></script>

    <!-- apexcharts -->
    <script src="assets/libs/apexcharts/apexcharts.min.js"></script>
    <!-- Required datatable js -->
    <script src="assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="assets/libs/datatables.net-bs5/js/dataTables.bootstrap5.min.js"></script>

    <!-- Responsive examples -->
    <script src="assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="assets/libs/datatables.net-responsive-bs5/js/responsive.bootstrap5.min.js"></script>

    <!-- contact init js -->
    <script src="assets/js/pages/profile.init.js"></script>

    <!-- Datatable init js -->
    <script src="assets/js/pages/datatables-base.init.js"></script>

    <!-- App js -->
    <script src="assets/js/app.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const addMemberForm = document.getElementById("addMemberForm");
    const proceedToPaymentBtn = document.getElementById("proceedToPaymentBtn");
    const addMemberBtn = document.getElementById("addMemberBtn");
    const successModal = new bootstrap.Modal(
      document.getElementById("successModal")
    );
    const errorModal = new bootstrap.Modal(
      document.getElementById("errorModal")
    );
    const paymentModal = new bootstrap.Modal(
      document.getElementById("paymentModal")
    );
    const photoInput = document.getElementById("photo");
    const paymentOptions = document.querySelectorAll(".payment-option");

    let isPaymentSuccessful = false; // Flag to track payment status

    // Add invalid-feedback for photo input in HTML and use it here
    photoInput.addEventListener("change", function () {
      if (this.files.length > 0) {
        const file = this.files[0];
        const fileSize = file.size; // Size in bytes
        const maxSize = 40 * 1024; // 40 KB in bytes
        const allowedTypes = ["image/jpeg", "image/png"]; // Allowed MIME types

        let isValid = true;
        if (fileSize > maxSize) {
          this.classList.add("is-invalid");
          this.nextElementSibling.textContent =
            "Photo size exceeds the limit of 40 KB. Please select a smaller photo.";
          isValid = false;
        } else if (!allowedTypes.includes(file.type)) {
          this.classList.add("is-invalid");
          this.nextElementSibling.textContent =
            "Only JPG, JPEG, and PNG image formats are allowed. Please select a valid photo.";
          isValid = false;
        } else {
          this.classList.remove("is-invalid");
        }

        if (!isValid) {
          this.value = ""; // Clear the file input if invalid
        }
      } else {
        this.classList.remove("is-invalid"); // Remove validation state if no file
      }
    });

    // Event listener for "Proceed to Payment" button
    proceedToPaymentBtn.addEventListener("click", function (event) {
      event.preventDefault(); // Prevent default button action

      let allFieldsFilled = true;
      const requiredFields = addMemberForm.querySelectorAll(
        "[required]:not(#photo)"
      ); // Photo is optional

      requiredFields.forEach((field) => {
        if (
          field.value.trim() === "" ||
          (field.tagName === "SELECT" && field.value === "")
        ) {
          field.classList.add("is-invalid");
          allFieldsFilled = false;
        } else {
          field.classList.remove("is-invalid");
        }
      });

      // Validate contact number (10 digits)
      const contactField = document.getElementById("contact");
      if (contactField.value.length !== 10) {
        contactField.classList.add("is-invalid");
        allFieldsFilled = false;
      } else {
        contactField.classList.remove("is-invalid");
      }

      // Validate pincode (6 digits)
      const pincodeField = document.getElementById("pincode");
      if (pincodeField.value.length !== 6) {
        pincodeField.classList.add("is-invalid");
        allFieldsFilled = false;
      } else {
        pincodeField.classList.remove("is-invalid");
      }

      // Re-check photo file size and type validation before opening payment modal
      if (photoInput.files.length > 0) {
        const file = photoInput.files[0];
        const fileSize = file.size;
        const maxSize = 40 * 1024;
        const allowedTypes = ["image/jpeg", "image/png"];

        if (fileSize > maxSize || !allowedTypes.includes(file.type)) {
          // The photoInput event listener should handle adding 'is-invalid' and message
          allFieldsFilled = false; // Mark as not filled if photo validation fails
        }
      }

      if (allFieldsFilled) {
        paymentModal.show(); // Show the payment options modal
      } else {
        errorModal.show(); // Show error if form fields are not filled
      }
    });

    // Event listeners for payment options
    paymentOptions.forEach((button) => {
      button.addEventListener("click", function () {
        const paymentMethod = this.dataset.paymentMethod;
        console.log("Selected payment method:", paymentMethod);

        // Simulate payment processing
        setTimeout(() => {
          alert("Payment successful with " + paymentMethod + "!");
          isPaymentSuccessful = true;
          paymentModal.hide(); // Hide payment modal
          proceedToPaymentBtn.style.display = "none"; // Hide payment button
          addMemberBtn.style.display = "inline-block"; // Show "Add New Member" button
        }, 1000); // Simulate a 1-second delay for payment processing
      });
    });

    // Original form submission for "Add New Member"
    addMemberForm.addEventListener("submit", function (event) {
      event.preventDefault(); // Prevent the default form submission

      if (!isPaymentSuccessful) {
        // This condition should ideally not be met if the button is hidden,
        // but as a safeguard.
        errorModal.show();
        return;
      }

      let allFieldsFilled = true;
      const memberData = {}; // Object to store form data

      const requiredFields = addMemberForm.querySelectorAll(
        "[required]:not(#photo)"
      );

      requiredFields.forEach((field) => {
        if (
          field.value.trim() === "" ||
          (field.tagName === "SELECT" && field.value === "")
        ) {
          field.classList.add("is-invalid");
          allFieldsFilled = false;
        } else {
          field.classList.remove("is-invalid");
        }
        if (field.id) {
          memberData[field.id] = field.value.trim();
        }
      });

      // Manual validation for contact and pincode here as well for direct submission
      const contactField = document.getElementById("contact");
      if (contactField.value.length !== 10) {
        contactField.classList.add("is-invalid");
        allFieldsFilled = false;
      } else {
        contactField.classList.remove("is-invalid");
      }

      const pincodeField = document.getElementById("pincode");
      if (pincodeField.value.length !== 6) {
        pincodeField.classList.add("is-invalid");
        allFieldsFilled = false;
      } else {
        pincodeField.classList.remove("is-invalid");
      }

      // Handle photo data: Read as Data URL for storage and display
      if (photoInput.files.length > 0) {
        const file = photoInput.files[0];
        const fileSize = file.size;
        const maxSize = 40 * 1024;
        const allowedTypes = ["image/jpeg", "image/png"];

        if (fileSize > maxSize || !allowedTypes.includes(file.type)) {
          // This case should ideally be caught by the photoInput change listener
          // and proceedToPaymentBtn validation, but adding a final check.
          photoInput.classList.add("is-invalid");
          photoInput.nextElementSibling.textContent =
            "Please upload a valid photo (only .jpg, .jpeg, .png formats allowed, max 40 KB).";
          allFieldsFilled = false;
        } else {
          const reader = new FileReader();
          reader.onload = function (e) {
            memberData.photoUrl = e.target.result; // Store base64 string
            finalizeMemberAddition(memberData, allFieldsFilled);
          };
          reader.readAsDataURL(file); // Read file as Data URL
        }
      } else {
        // If no photo is selected, use a placeholder
        memberData.photoUrl =
          "https://via.placeholder.com/150/CCCCCC/888888?text=No+Photo";
        finalizeMemberAddition(memberData, allFieldsFilled);
      }
    });

    function finalizeMemberAddition(memberData, allFieldsFilled) {
      if (allFieldsFilled) {
        const members = JSON.parse(localStorage.getItem("members")) || [];
        const newId = members.length > 0 ? Math.max(...members.map((m) => m.id)) + 1 : 1;

        const newMember = {
          id: newId,
          firstName: memberData.firstName,
          lastName: memberData.lastName,
          contact: memberData.contact,
          emailAddress: memberData.emailAddress,
          gender: memberData.gender,
          dob: memberData.dob,
          address: memberData.address,
          city: memberData.city,
          pincode: memberData.pincode,
          photoUrl: memberData.photoUrl, // This will now be the base64 string or placeholder
          membership_type: memberData.membership_type,
          status: "Active",
        };

        members.push(newMember);
        localStorage.setItem("members", JSON.stringify(members));

        // Check if DataTable is initialized before trying to add a row
        if ($.fn.DataTable.isDataTable("#datatable-col-visiblility")) {
          const table = $("#datatable-col-visiblility").DataTable();
          const statusBadgeClass =
            newMember.status === "Active" ? "bg-success" : "bg-danger";

          table.row
            .add([
              newMember.id,
              `<img src="${newMember.photoUrl}" alt="Photo" width="40" height="40" class="rounded-circle"/>`, // Display image directly
              newMember.firstName,
              newMember.lastName,
              newMember.gender,
              newMember.dob,
              // Removed maritalStatus and occupation as they are not in the form
              newMember.contact,
              newMember.emailAddress,
              newMember.address,
              newMember.city,
              newMember.pincode,
              newMember.membership_type,
              `<span class="badge ${statusBadgeClass}">${newMember.status}</span>`,
              `
                            <a href="edit-member.html?id=${newMember.id}" class="btn btn-sm btn-primary">
                                <i class="fas fa-pen"></i>
                            </a>
                            <a class="btn btn-sm btn-danger delete-member-btn" data-id="${newMember.id}">
                                <i class="fas fa-trash"></i>
                            </a>
                            `,
            ])
            .draw(false);
        } else {
          console.warn(
            "DataTable '#datatable-col-visiblility' not initialized. Member data saved to localStorage but not added to table display."
          );
        }

        successModal.show();
        addMemberForm.reset();
        isPaymentSuccessful = false; // Reset payment status for next member
        proceedToPaymentBtn.style.display = "inline-block"; // Show payment button again
        addMemberBtn.style.display = "none"; // Hide "Add New Member" button
      } else {
        errorModal.show();
      }
    }
  });

  document.addEventListener("DOMContentLoaded", function () {
    const contactInput = document.getElementById("contact");
    const pincodeInput = document.getElementById("pincode");

    // Allow only numbers for contact
    contactInput.addEventListener("keypress", function (event) {
      const charCode = event.which ? event.which : event.keyCode;
      if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        event.preventDefault();
      }
    });

    // Allow only numbers for pincode
    pincodeInput.addEventListener("keypress", function (event) {
      const charCode = event.which ? event.which : event.keyCode;
      if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        event.preventDefault();
      }
    });
  });
</script>

 
</body>

</html>
